{# Configuration Editor Component #}
<div class="row" id="configEditor" style="display: none;">
        <div class="col-12">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-edit me-2"></i>Edit Configuration
                    </h5>
                </div>
                <div class="card-body">
                    <!-- Tabs -->
                    <ul class="nav nav-tabs mb-3" id="configTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="monitor-tab" data-bs-toggle="tab"
                                    data-bs-target="#monitor-pane" type="button" role="tab">
                                <i class="fas fa-info-circle me-2"></i>Monitor
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="indicators-tab" data-bs-toggle="tab"
                                    data-bs-target="#indicators-pane" type="button" role="tab">
                                <i class="fas fa-chart-line me-2"></i>Indicators
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="bars-tab" data-bs-toggle="tab"
                                    data-bs-target="#bars-pane" type="button" role="tab">
                                <i class="fas fa-bars me-2"></i>Bars
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="trade-executor-tab" data-bs-toggle="tab"
                                    data-bs-target="#trade-executor-pane" type="button" role="tab">
                                <i class="fas fa-exchange-alt me-2"></i>Trade Executor
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="data-config-tab" data-bs-toggle="tab"
                                    data-bs-target="#data-config-pane" type="button" role="tab">
                                <i class="fas fa-database me-2"></i>Data Config
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="test-data-config-tab" data-bs-toggle="tab"
                                    data-bs-target="#test-data-config-pane" type="button" role="tab">
                                <i class="fas fa-flask me-2"></i>Test Data Config
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="ga-config-tab" data-bs-toggle="tab"
                                    data-bs-target="#ga-config-pane" type="button" role="tab">
                                <i class="fas fa-dna me-2"></i>GA Config
                            </button>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content" id="configTabContent">
                        <!-- Monitor Tab -->
                        <div class="tab-pane fade show active" id="monitor-pane" role="tabpanel">
                            <div class="mb-3">
                                <h6>Basic Information</h6>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="monitorName" class="form-label">Name</label>
                                        <input type="text" class="form-control" id="monitorName" style="max-width: 300px;">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="monitorDescription" class="form-label">Description</label>
                                        <input type="text" class="form-control" id="monitorDescription" style="max-width: 300px;">
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <button class="btn btn-primary" id="saveMonitorBtn" onclick="saveMonitorConfiguration()">
                                    <i class="fas fa-save me-2"></i>Save Monitor
                                </button>
                                <small class="text-muted ms-2">Save the monitor configuration (indicators, bars, trade executor) to a JSON file</small>
                            </div>
                        </div>

                        <!-- Indicators Tab -->
                        <div class="tab-pane fade" id="indicators-pane" role="tabpanel">
                            <div class="mb-3">
                                <button class="btn btn-success" id="addIndicatorBtn">
                                    <i class="fas fa-plus me-2"></i>Add Indicator
                                </button>
                            </div>
                            <div id="indicatorsContainer"></div>
                        </div>

                        <!-- Bars Tab -->
                        <div class="tab-pane fade" id="bars-pane" role="tabpanel">
                            <div class="mb-3">
                                <button class="btn btn-success" id="addBarBtn">
                                    <i class="fas fa-plus me-2"></i>Add Bar
                                </button>
                            </div>
                            <div id="barsContainer"></div>
                        </div>

                        <!-- Trade Executor Tab -->
                        <div class="tab-pane fade" id="trade-executor-pane" role="tabpanel">
                            {% include 'components/_trade_executor_form.html' %}
                        </div>

                        <!-- Data Config Tab -->
                        <div class="tab-pane fade" id="data-config-pane" role="tabpanel">
                            <div class="mb-3">
                                <h6>Data Configuration</h6>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label for="dataTicker" class="form-label">Ticker Symbol</label>
                                        <input type="text" class="form-control" id="dataTicker" placeholder="e.g., NVDA" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="dataStartDate" class="form-label">Start Date</label>
                                        <input type="date" class="form-control" id="dataStartDate" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="dataEndDate" class="form-label">End Date</label>
                                        <input type="date" class="form-control" id="dataEndDate" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-check mt-4">
                                            <input class="form-check-input" type="checkbox" id="dataExtendedHours" checked>
                                            <label class="form-check-label" for="dataExtendedHours">
                                                Include Extended Hours
                                            </label>
                                            <small class="form-text text-muted d-block">When unchecked, only uses data from 9:30 AM - 4:00 PM ET (regular market hours)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Test Data Config Tab -->
                        <div class="tab-pane fade" id="test-data-config-pane" role="tabpanel">
                            <div class="mb-3">
                                <h6>Test Data Configuration</h6>
                                <p class="text-muted small">Configure the test dataset for evaluating elite individuals after each epoch</p>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label for="testDataTicker" class="form-label">Ticker Symbol</label>
                                        <input type="text" class="form-control" id="testDataTicker" placeholder="e.g., NVDA" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="testDataStartDate" class="form-label">Start Date</label>
                                        <input type="date" class="form-control" id="testDataStartDate" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="testDataEndDate" class="form-label">End Date</label>
                                        <input type="date" class="form-control" id="testDataEndDate" style="max-width: 200px;">
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-check mt-4">
                                            <input class="form-check-input" type="checkbox" id="testDataExtendedHours" checked>
                                            <label class="form-check-label" for="testDataExtendedHours">
                                                Include Extended Hours
                                            </label>
                                            <small class="form-text text-muted d-block">When unchecked, only uses data from 9:30 AM - 4:00 PM ET (regular market hours)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- GA Config Tab -->
                        <div class="tab-pane fade" id="ga-config-pane" role="tabpanel">
                            <div class="mb-4">
                                <h6>Objectives</h6>
                                <div class="mb-3">
                                    <button class="btn btn-success btn-sm" id="addObjectiveBtn">
                                        <i class="fas fa-plus me-2"></i>Add Objective
                                    </button>
                                </div>
                                <div id="objectivesContainer"></div>
                            </div>

                            <div class="mb-3">
                                <h6>GA Hyperparameters</h6>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label for="numIterations" class="form-label">Number of Iterations</label>
                                        <input type="number" class="form-control" id="numIterations" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="populationSize" class="form-label">Population Size</label>
                                        <input type="number" class="form-control" id="populationSize" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="propagationFraction" class="form-label">Propagation Fraction</label>
                                        <input type="number" class="form-control" id="propagationFraction" step="0.01" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="elitesToSave" class="form-label">Elites to Save</label>
                                        <input type="number" class="form-control" id="elitesToSave" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="eliteSize" class="form-label">Elite Size</label>
                                        <input type="number" class="form-control" id="eliteSize" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="chanceMutation" class="form-label">Chance of Mutation</label>
                                        <input type="number" class="form-control" id="chanceMutation" step="0.01" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="chanceCrossover" class="form-label">Chance of Crossover</label>
                                        <input type="number" class="form-control" id="chanceCrossover" step="0.01" style="max-width: 150px;">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="numSplits" class="form-label">Number of Splits</label>
                                        <div class="d-flex align-items-center gap-2">
                                            <input type="number" class="form-control" id="numSplits" style="max-width: 100px;">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="dailySplits" onchange="toggleDailySplits()">
                                                <label class="form-check-label" for="dailySplits" title="When checked, creates one split per calendar day in the date range">
                                                    Daily
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="randomSeed" class="form-label">Random Number Seed</label>
                                        <input type="number" class="form-control" id="randomSeed" style="max-width: 150px;" title="Set to 0 for random, or any positive integer for reproducible results">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="numWorkers" class="form-label">Number of Workers (0=sequential)</label>
                                        <input type="number" class="form-control" id="numWorkers" style="max-width: 150px;" title="0 = sequential execution, >0 = parallel with N workers">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="splitRepeats" class="form-label">Split Repeats</label>
                                        <input type="number" class="form-control" id="splitRepeats" style="max-width: 150px;" title="Number of times to repeat the same data split before selecting a new one">
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <h6>Population Seeding</h6>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="seedWithOriginal" checked>
                                    <label class="form-check-label" for="seedWithOriginal">
                                        <i class="fas fa-seedling me-1 text-success"></i>Seed with original monitor configuration
                                    </label>
                                    <small class="form-text text-muted d-block">When checked, the first individual in the initial population will be your original monitor configuration (unmodified). This ensures your starting point is evaluated and used as a baseline for optimization.</small>
                                </div>
                            </div>

                            <div class="mb-3">
                                <h6>Elite Saving Options</h6>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="saveElitesEveryEpoch">
                                    <label class="form-check-label" for="saveElitesEveryEpoch">
                                        Save top elites every epoch
                                    </label>
                                    <small class="form-text text-muted d-block">When checked, elite configurations will be saved to outputs/monitor_name_timestamp/epoch_elite#.json after each epoch</small>
                                </div>
                            </div>

                            <div class="mt-4">
                                <button class="btn btn-primary" id="saveGAConfigBtn" onclick="saveOptimizationConfiguration()">
                                    <i class="fas fa-save me-2"></i>Save Optimization Configuration
                                </button>
                                <small class="text-muted ms-2">Save the complete optimization configuration (monitor + GA hyperparameters + objectives) to a JSON file</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

